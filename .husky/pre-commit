#!/bin/sh

# gitleaks ã§ã‚·ãƒ¼ã‚¯ãƒ¬ãƒƒãƒˆã‚¹ã‚­ãƒ£ãƒ³ï¼ˆã‚¹ãƒ†ãƒ¼ã‚¸ãƒ³ã‚°ãƒ•ã‚¡ã‚¤ãƒ«ã®ã¿ï¼‰
echo "ğŸ” Scanning staged files for secrets..."

if ! gitleaks protect --staged --config .gitleaks.toml; then
  echo ""
  echo "âŒ gitleaks detected potential secrets in staged files!"
  echo "   Please review the findings above and remove any secrets before committing."
  echo ""
  echo "   To bypass this check (use with caution):"
  echo "   git commit --no-verify"
  echo ""
  exit 1
fi

echo "âœ… No secrets detected"
