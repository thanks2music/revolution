# Revolution

> **Languages**: [ğŸ‡¯ğŸ‡µ æ—¥æœ¬èª](README.md) | [ğŸ‡¬ğŸ‡§ English](README.en.md)

![License](https://img.shields.io/badge/license-Personal%20Project-blue)

---

## ğŸ“‘ ç›®æ¬¡

- [æ¦‚è¦](#-æ¦‚è¦)
- [ä¸»è¦æ©Ÿèƒ½](#-ä¸»è¦æ©Ÿèƒ½)
- [ã‚¯ã‚¤ãƒƒã‚¯ã‚¹ã‚¿ãƒ¼ãƒˆ](#-ã‚¯ã‚¤ãƒƒã‚¯ã‚¹ã‚¿ãƒ¼ãƒˆ)
- [æŠ€è¡“ã‚¹ã‚¿ãƒƒã‚¯](#ï¸-æŠ€è¡“ã‚¹ã‚¿ãƒƒã‚¯)
- [ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆæ§‹é€ ](#-ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆæ§‹é€ )
- [ã‚¢ãƒƒãƒ—ãƒ‡ãƒ¼ãƒˆæƒ…å ±](#-ã‚¢ãƒƒãƒ—ãƒ‡ãƒ¼ãƒˆæƒ…å ±)
- [é–‹ç™º](#-é–‹ç™º)
- [ãƒ‡ãƒ—ãƒ­ã‚¤](#-ãƒ‡ãƒ—ãƒ­ã‚¤)
- [ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£](#ï¸-ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£)
- [è¬è¾](#-è¬è¾)

---

## ğŸ“– æ¦‚è¦

**Revolution**ã¯ã€[@thanks2music](https://github.com/thanks2music)ãŒå€‹äººé–‹ç™ºã§å–ã‚Šçµ„ã‚€ã€LLMã‚’æ´»ç”¨ã—ãŸAIè¨˜äº‹ç”Ÿæˆæ©Ÿèƒ½ã‚’å‚™ãˆãŸ Jamstackæ§‹æˆã®æ¬¡ä¸–ä»£Webãƒ¡ãƒ‡ã‚£ã‚¢ã‚·ã‚¹ãƒ†ãƒ ã§ã™ã€‚
ã“ã‚Œã¾ã§æ‰‹å‹•ã§1ä¸‡è¨˜äº‹ä»¥ä¸Šã‚’ä½œæˆã—ã¦ããŸçµŒé¨“ã‚’ã‚‚ã¨ã«ã€ãã®çŸ¥è¦‹ã‚’AIã¨çµ„ã¿åˆã‚ã›ã‚‹ã“ã¨ã§ã€è¨˜äº‹åˆ¶ä½œã‹ã‚‰å…¬é–‹ã¾ã§ã‚’è‡ªå‹•åŒ–ã™ã‚‹ãƒ¢ãƒ€ãƒ³ãª Web ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã®æ§‹ç¯‰ã«æŒ‘æˆ¦ã—ã¦ã„ã¾ã™ã€‚

---

## âœ¨ ä¸»è¦æ©Ÿèƒ½

### MDX ãƒ™ãƒ¼ã‚¹è¨˜äº‹ç”Ÿæˆã‚·ã‚¹ãƒ†ãƒ ï¼ˆç¾è¡Œç‰ˆï¼‰

- ğŸ¤– **AI è¨˜äº‹ç”Ÿæˆãƒ‘ã‚¤ãƒ—ãƒ©ã‚¤ãƒ³**: RSS/URL â†’ Nã‚¹ãƒ†ãƒƒãƒ—ãƒ‘ã‚¤ãƒ—ãƒ©ã‚¤ãƒ³ â†’ MDX ãƒ•ã‚¡ã‚¤ãƒ« â†’ GitHub PR
- ğŸ”„ **ãƒãƒ«ãƒ AI ãƒ—ãƒ­ãƒã‚¤ãƒ€ãƒ¼**: ç’°å¢ƒå¤‰æ•°ã§åˆ‡ã‚Šæ›¿ãˆå¯èƒ½
  - Claude (Anthropic) - ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆ
  - Gemini (Google)
  - OpenAI (GPT)

- ğŸ“ **YAML ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆã‚·ã‚¹ãƒ†ãƒ **: [@thanks2music](https://github.com/thanks2music)ã®æš—é»™çŸ¥ã‚’ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«åŒ–ã—ãŸYAMLã§ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆç®¡ç†
- âš¡ **é™çš„ã‚µã‚¤ãƒˆç”Ÿæˆï¼ˆSSGï¼‰æœ€é©åŒ–**:
  - MDX ã«ã‚ˆã‚‹ DBãƒ¬ã‚¹ ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£
  - `article-index.json` ã«ã‚ˆã‚‹é«˜é€Ÿè¨˜äº‹æ¤œç´¢
  - Vercel ã¸ã®ã‚·ãƒ¼ãƒ ãƒ¬ã‚¹ãªãƒ‡ãƒ—ãƒ­ã‚¤

- ğŸ” **ã‚»ã‚­ãƒ¥ã‚¢èªè¨¼**: Firebase Authentication + ã‚«ã‚¹ã‚¿ãƒ ã‚¯ãƒ¬ãƒ¼ãƒ 
- ğŸ§ª **ãƒ†ã‚¹ãƒˆã‚«ãƒãƒ¬ãƒƒã‚¸**: Jest + Firebase Emulator ã«ã‚ˆã‚‹åŒ…æ‹¬çš„ãƒ†ã‚¹ãƒˆ
- ğŸ“Š **ãƒ¢ãƒãƒ¬ãƒç®¡ç†**: pnpm + Turbo ã«ã‚ˆã‚‹åŠ¹ç‡çš„ãªãƒ¯ãƒ¼ã‚¯ã‚¹ãƒšãƒ¼ã‚¹ç®¡ç†

---

## ğŸš€ ã‚¯ã‚¤ãƒƒã‚¯ã‚¹ã‚¿ãƒ¼ãƒˆ

### å‰ææ¡ä»¶

- **Node.js**: 22.0.0ä»¥ä¸Š
- **pnpm**: 10.0.0ä»¥ä¸Š
- **Google Cloud SDK**: Cloud Runãƒ‡ãƒ—ãƒ­ã‚¤ç”¨ï¼ˆã‚ªãƒ—ã‚·ãƒ§ãƒ³ï¼‰

### ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«

```bash
# ãƒªãƒã‚¸ãƒˆãƒªã®ã‚¯ãƒ­ãƒ¼ãƒ³
git clone https://github.com/yourusername/revolution.git
cd revolution

# ä¾å­˜é–¢ä¿‚ã®ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«
pnpm install

# ç’°å¢ƒå¤‰æ•°ã®è¨­å®š
cp apps/ai-writer/.env.sample apps/ai-writer/.env.local
cp apps/frontend/.env.sample apps/frontend/.env.local

# é–‹ç™ºç’°å¢ƒã®èµ·å‹•ï¼ˆå…¨ãƒ¯ãƒ¼ã‚¯ã‚¹ãƒšãƒ¼ã‚¹ï¼‰
pnpm dev
```

### ä¸»è¦ãªç’°å¢ƒå¤‰æ•°

#### AI Writer (`apps/ai-writer/.env.local`)

```bash
# Firebaseè¨­å®š
NEXT_PUBLIC_FIREBASE_API_KEY=your_api_key
NEXT_PUBLIC_FIREBASE_PROJECT_ID=your_project_id
NEXT_PUBLIC_FIREBASE_AUTH_DOMAIN=your_project.firebaseapp.com

# Anthropic API
ANTHROPIC_API_KEY=your_anthropic_api_key
```

#### Frontend (`apps/frontend/.env.local`)

```bash
# ç”»åƒæœ€é©åŒ–
ALLOWED_IMAGE_HOST=localhost
```

è©³ç´°ã¯å„ãƒ¯ãƒ¼ã‚¯ã‚¹ãƒšãƒ¼ã‚¹ã® `.env.sample` ã‚’å‚ç…§ã—ã¦ãã ã•ã„ã€‚

---

## ğŸ› ï¸ æŠ€è¡“ã‚¹ã‚¿ãƒƒã‚¯

### ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³

| ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆ | æŠ€è¡“ | ãƒãƒ¼ã‚¸ãƒ§ãƒ³ | ç”¨é€” |
|-----------|-----------|----------|---------|
| **ãƒ¡ã‚¤ãƒ³ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰** | Next.js / React / TypeScript | 16.1.1 / 19 / 5 | å…¬é–‹Webã‚µã‚¤ãƒˆ |
| **AI Writer** | Next.js / React / TypeScript | 16.1.1 / 19 / 5 | ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ç”Ÿæˆç®¡ç†ç”»é¢ |
| **ã‚¹ã‚¿ã‚¤ãƒªãƒ³ã‚°** | Tailwind CSS | Latest | UIãƒ‡ã‚¶ã‚¤ãƒ³ |
| **çŠ¶æ…‹ç®¡ç†** | SWR | 2.2+ | ãƒ‡ãƒ¼ã‚¿ãƒ•ã‚§ãƒƒãƒãƒ³ã‚° |

### ãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰ & ã‚¤ãƒ³ãƒ•ãƒ©ã‚¹ãƒˆãƒ©ã‚¯ãƒãƒ£

| ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆ | æŠ€è¡“ | è©³ç´° |
|-----------|-----------|---------|
| **ã‚³ãƒ³ãƒ†ãƒŠ** | Docker / Cloud Run | ãƒãƒ«ãƒã‚¹ãƒ†ãƒ¼ã‚¸ãƒ“ãƒ«ãƒ‰ |
| **èªè¨¼** | Firebase Authentication | èªå¯ç”¨ã‚«ã‚¹ã‚¿ãƒ ã‚¯ãƒ¬ãƒ¼ãƒ  |
| **CDN** | CloudFlare | é™çš„ã‚¢ã‚»ãƒƒãƒˆé…ä¿¡ |

### ç”ŸæˆAI & çµ±åˆ & è‡ªå‹•åŒ–

| ã‚µãƒ¼ãƒ“ã‚¹ | ç”¨é€” | ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ |
|---------|---------|---------|
| **Claude API** | è¨˜äº‹ç”Ÿæˆ | `@anthropic-ai/sdk` |
| **ChatGPT API** | è¨˜äº‹ç”Ÿæˆ | `@modelcontextprotocol/sdk` |
| **Gemini API** | è¨˜äº‹ç”Ÿæˆ | `@google/genai` |
| **Grok API** |  | `TRD` |
| **RSS Parser** | ãƒ•ã‚£ãƒ¼ãƒ‰åé›† | `rss-parser` |
| **Article Extractor** | URLã‚³ãƒ³ãƒ†ãƒ³ãƒ„æŠ½å‡º | `@extractus/article-extractor` |

### é–‹ç™ºãƒ„ãƒ¼ãƒ«

| ãƒ„ãƒ¼ãƒ« | ãƒãƒ¼ã‚¸ãƒ§ãƒ³ | ç”¨é€” |
|------|---------|---------|
| **pnpm** | 10.11.0+ | é«˜é€Ÿãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ãƒãƒãƒ¼ã‚¸ãƒ£ãƒ¼ |
| **Turbo** | 2.5+ | ãƒ¢ãƒãƒ¬ãƒãƒ“ãƒ«ãƒ‰ã‚·ã‚¹ãƒ†ãƒ  |
| **Jest** | 30.2+ | ãƒ¦ãƒ‹ãƒƒãƒˆãƒ†ã‚¹ãƒˆ |
| **Firebase Emulator** | Latest | ãƒ­ãƒ¼ã‚«ãƒ«èªè¨¼/DBãƒ†ã‚¹ãƒˆ |
| **ESLint + Prettier** | Latest | ã‚³ãƒ¼ãƒ‰å“è³ª |

### LLM CLI

| ãƒ„ãƒ¼ãƒ« | ãƒãƒ¼ã‚¸ãƒ§ãƒ³ | é–‹ç™ºå…ƒ |
|------|---------|---------|
| **Claude Code** | Latest | Anthropic |
| **Codex** | Latest | OpenAI |
| **Gemini CLI** | Latest | Google |
| **MCP Server Tools** | Latest | Various |

---

## ğŸ“ ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆæ§‹é€ 

```
revolution/
â”œâ”€â”€ apps/
â”‚   â”œâ”€â”€ ai-writer/              # AIã‚³ãƒ³ãƒ†ãƒ³ãƒ„ç”Ÿæˆç®¡ç†ã‚¢ãƒ—ãƒª (Next.js 16.1.1 / React 19)
â”‚   â”œâ”€â”€ frontend/               # ãƒ¡ã‚¤ãƒ³Next.js Webã‚µã‚¤ãƒˆ (Next.js 16.1.1 / React 19)
â”‚   â””â”€â”€ mcp-gcp-server/         # Model Context Protocolã‚µãƒ¼ãƒãƒ¼
â”‚
â”œâ”€â”€ docs/                       # å…¬é–‹ç”¨ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ
â”‚   â”œâ”€â”€ 00-blog/                # æŠ€è¡“ãƒ–ãƒ­ã‚°è¨˜äº‹
â”‚   â”œâ”€â”€ 01-frontend/            # ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰é–¢é€£ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ
â”‚   â”œâ”€â”€ 02-backend/             # ãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰é–¢é€£ï¼ˆãƒ¬ã‚¬ã‚·ãƒ¼ï¼‰
â”‚   â”œâ”€â”€ 03-infrastructure/      # ã‚¤ãƒ³ãƒ•ãƒ©æ§‹ç¯‰è¨˜éŒ²
â”‚   â””â”€â”€ 04-llm/                 # LLMæ´»ç”¨äº‹ä¾‹
â”‚
â”œâ”€â”€ shared/                     # ãƒ¯ãƒ¼ã‚¯ã‚¹ãƒšãƒ¼ã‚¹é–“ã§å…±æœ‰ã•ã‚Œã‚‹ã‚³ãƒ¼ãƒ‰
â”‚   â”œâ”€â”€ types/                  # å…±é€šTypeScriptå‹å®šç¾©
â”‚   â””â”€â”€ utils/                  # ãƒ¦ãƒ¼ãƒ†ã‚£ãƒªãƒ†ã‚£é–¢æ•°
â”‚
â”œâ”€â”€ scripts/                    # è‡ªå‹•åŒ–ã‚¹ã‚¯ãƒªãƒ—ãƒˆ
â”‚
â”œâ”€â”€ .github/                    # GitHub Actions ãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼
â”‚   â””â”€â”€ workflows/
â”‚       â”œâ”€â”€ deploy-ai-writer.yml  # AI Writer è‡ªå‹•ãƒ‡ãƒ—ãƒ­ã‚¤
â”‚       â””â”€â”€ ci.yml                # CI/CD ãƒ‘ã‚¤ãƒ—ãƒ©ã‚¤ãƒ³
â”‚
â”œâ”€â”€ package.json                # ãƒ«ãƒ¼ãƒˆãƒ‘ãƒƒã‚±ãƒ¼ã‚¸è¨­å®š
â”œâ”€â”€ pnpm-workspace.yaml         # ãƒ¯ãƒ¼ã‚¯ã‚¹ãƒšãƒ¼ã‚¹è¨­å®š
â””â”€â”€ turbo.json                  # Turboã‚­ãƒ£ãƒƒã‚·ãƒ¥è¨­å®š
```

**æ³¨**: `apps/backend/` ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã¯ PR #117 ã§å‰Šé™¤ã•ã‚Œã¾ã—ãŸï¼ˆWordPress å®Œå…¨å‰Šé™¤ï¼‰

---

## ğŸ—ï¸ ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£

### MDX ãƒ‘ã‚¤ãƒ—ãƒ©ã‚¤ãƒ³ ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£ï¼ˆç¾è¡Œç‰ˆï¼‰

ç¾åœ¨ã® AI Writer ã¯ **MDX ãƒ™ãƒ¼ã‚¹ã®è¨˜äº‹ç”Ÿæˆãƒ‘ã‚¤ãƒ—ãƒ©ã‚¤ãƒ³** ã‚’ä½¿ç”¨ã—ã¦ã„ã¾ã™ã€‚

#### ãƒ‘ã‚¤ãƒ—ãƒ©ã‚¤ãƒ³æ¦‚è¦å›³

```mermaid
flowchart TB
    subgraph Input["ğŸ“¥ å…¥åŠ›"]
        RSS[("RSS ãƒ•ã‚£ãƒ¼ãƒ‰")]
        URL["è¨˜äº‹ URL"]
    end

    subgraph Pipeline["ğŸ”„ MDX ãƒ‘ã‚¤ãƒ—ãƒ©ã‚¤ãƒ³ (9 Steps)"]
        direction TB
        S0["Step 0.5<br/>è¨˜äº‹é¸åˆ¥"]
        S1["Step 1<br/>æƒ…å ±æŠ½å‡º"]
        S2["Step 2<br/>Slug è§£æ±º"]
        S3["Step 3<br/>é‡è¤‡ãƒã‚§ãƒƒã‚¯"]
        S4["Step 4<br/>ãƒ¡ã‚¿ãƒ‡ãƒ¼ã‚¿ç”Ÿæˆ"]
        S45["Step 4.5<br/>ã‚¿ã‚¤ãƒˆãƒ«ç”Ÿæˆ"]
        S5["Step 5<br/>MDX ç”Ÿæˆ"]
        S6["Step 6<br/>GitHub PR ä½œæˆ"]
        S7["Step 7<br/>ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹æ›´æ–°"]

        S0 --> S1 --> S2 --> S3 --> S4 --> S45 --> S5 --> S6 --> S7
    end

    subgraph External["ğŸŒ å¤–éƒ¨ã‚µãƒ¼ãƒ“ã‚¹"]
        AI["AI Provider<br/>(Claude/Gemini/OpenAI)"]
        FS[("Firestore<br/>ã‚¤ãƒ™ãƒ³ãƒˆç®¡ç†")]
        GH["GitHub API<br/>PR ä½œæˆ"]
        YAML["YAML ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆ<br/>(ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«åŒ–)"]
    end

    subgraph Output["ğŸ“¤ å‡ºåŠ›"]
        MDX["MDX ãƒ•ã‚¡ã‚¤ãƒ«"]
        PR["GitHub PR"]
    end

    RSS --> S0
    URL --> S0
    S0 <--> AI
    S1 <--> AI
    S2 <--> YAML
    S3 <--> FS
    S4 <--> AI
    S45 <--> AI
    S45 <--> YAML
    S6 --> GH
    S7 --> FS
    S5 --> MDX
    S6 --> PR

    style S0 fill:#e3f2fd
    style S1 fill:#e3f2fd
    style S4 fill:#e3f2fd
    style S45 fill:#e3f2fd
    style AI fill:#fff9c4
    style FS fill:#ffe0b2
    style GH fill:#c8e6c9
    style YAML fill:#f3e5f5
```

#### è©³ç´°ãƒ‘ã‚¤ãƒ—ãƒ©ã‚¤ãƒ³ãƒ•ãƒ­ãƒ¼

```mermaid
sequenceDiagram
    autonumber
    actor User as ãƒ¦ãƒ¼ã‚¶ãƒ¼
    participant MDX as MDX Service
    participant HTML as HTML Extractor
    participant Select as ArticleSelection Service
    participant Extract as extractFromRss
    participant Slug as Slug Resolver
    participant FS as Firestore
    participant GH as GitHub API
    participant Meta as Metadata Generator
    participant TitleSvc as TitleGeneration Service
    participant AI as AI Provider (Claude/Gemini/OpenAI)
    participant YAML as YAML Template

    User->>MDX: generateMdxFromRSS(rssItem)

    Note over MDX,AI: Step 0.5 è¨˜äº‹é¸åˆ¥
    MDX->>HTML: è¨˜äº‹HTMLå–å¾—
    HTML-->>MDX: articleHtml
    MDX->>Select: shouldGenerateArticle()
    Select->>YAML: loadModularTemplate('EVENT_TYPE','1-selection')
    YAML-->>Select: template
    Select->>AI: sendMessage(prompt)
    AI-->>Select: JSON response
    Select-->>MDX: should_generate, official_urls

    alt should_generate = false
        MDX-->>User: ã‚¹ã‚­ãƒƒãƒ— (å…¬å¼URLãªã—)
    end

    Note over MDX,AI: Step 1 æƒ…å ±æŠ½å‡º
    MDX->>Extract: extractFromRss(rssItem)
    Extract->>AI: RSS ã‹ã‚‰æŠ½å‡º
    AI-->>Extract: workTitle, storeName, eventTypeName
    Extract-->>MDX: extraction

    Note over MDX,Slug: Step 2 Slug è§£æ±º
    MDX->>Slug: resolveWorkSlug(workTitle)
    MDX->>Slug: resolveStoreSlug(storeName)
    MDX->>Slug: resolveEventTypeSlug(eventTypeName)
    Slug-->>MDX: workSlug, storeSlug, eventType

    Note over MDX,FS: Step 3 é‡è¤‡ãƒã‚§ãƒƒã‚¯ & ç™»éŒ²
    MDX->>FS: checkEventDuplication()
    FS-->>MDX: isDuplicate, canonicalKey
    alt isDuplicate
        MDX->>GH: getPrStatusByCanonicalKey()
        GH-->>MDX: hasOpenPr
        alt hasOpenPr
            MDX-->>User: DuplicateSlugError
        else closed
            MDX->>FS: deleteEvent()
        end
    end
    MDX->>FS: registerNewEvent()
    FS-->>MDX: eventRecord

    Note over MDX,AI: Step 4 ãƒ¡ã‚¿ãƒ‡ãƒ¼ã‚¿ç”Ÿæˆ
    MDX->>Meta: generateArticleMetadata()
    Meta->>AI: ã‚«ãƒ†ã‚´ãƒª/æŠœç²‹ç”Ÿæˆ
    AI-->>Meta: categories, excerpt
    Meta-->>MDX: metadata

    Note over MDX,AI: Step 4.5 ã‚¿ã‚¤ãƒˆãƒ«ç”Ÿæˆ
    MDX->>TitleSvc: generateTitle()
    TitleSvc->>YAML: loadModularTemplate('EVENT_TYPE','3-title')
    YAML-->>TitleSvc: template rules
    TitleSvc->>AI: sendMessage(prompt)
    AI-->>TitleSvc: title
    TitleSvc-->>MDX: title, length, is_valid

    Note over MDX,GH: Step 5-7 MDXç”Ÿæˆ & PRä½œæˆ
    MDX->>MDX: generateMdxArticle()
    MDX->>GH: createMdxPr()
    GH-->>MDX: prNumber, prUrl
    MDX->>FS: updateEventStatus('generated')

    MDX-->>User: success, mdxArticle, prResult
```

#### ã‚µãƒ¼ãƒ“ã‚¹ä¾å­˜é–¢ä¿‚å›³

```mermaid
graph LR
    subgraph Services["ã‚µãƒ¼ãƒ“ã‚¹å±¤"]
        AGMS["ArticleGeneration<br/>MdxService"]
        ASS["ArticleSelection<br/>Service"]
        TGS["TitleGeneration<br/>Service"]
        YTLS["YamlTemplateLoader<br/>Service"]
    end

    subgraph AI["AI ãƒ—ãƒ­ãƒã‚¤ãƒ€ãƒ¼å±¤"]
        AIF["AI Factory"]
        ANT["Anthropic<br/>Provider"]
        GEM["Gemini<br/>Provider"]
        OAI["OpenAI<br/>Provider"]
    end

    subgraph Data["ãƒ‡ãƒ¼ã‚¿å±¤"]
        FS[("Firestore")]
        GH["GitHub API"]
        YAML[("YAML<br/>Templates")]
    end

    subgraph Utils["ãƒ¦ãƒ¼ãƒ†ã‚£ãƒªãƒ†ã‚£"]
        EFR["extractFromRss"]
        GAM["generateArticle<br/>Metadata"]
        SR["Slug Resolver"]
        HE["HTML Extractor"]
    end

    AGMS --> ASS
    AGMS --> TGS
    AGMS --> EFR
    AGMS --> GAM
    AGMS --> SR
    AGMS --> HE
    AGMS --> FS
    AGMS --> GH

    ASS --> YTLS
    ASS --> AIF
    TGS --> YTLS
    TGS --> AIF

    YTLS --> YAML

    AIF --> ANT
    AIF --> GEM
    AIF --> OAI

    EFR --> AIF
    GAM --> AIF

    style AGMS fill:#e3f2fd,stroke:#1976d2,stroke-width:2px
    style AIF fill:#fff9c4,stroke:#f9a825,stroke-width:2px
    style YAML fill:#f3e5f5,stroke:#7b1fa2,stroke-width:2px
```

#### YAML ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆ ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«æ§‹é€ 

```mermaid
graph TB
    subgraph Templates["templates/EVENT_TYPE/"]
        META["{META}.yaml<br/>ãƒ¡ã‚¿æƒ…å ±ãƒ»é †åºå®šç¾©"]

        subgraph Shared["shared/"]
            PH["placeholders.yaml<br/>ãƒ—ãƒ¬ãƒ¼ã‚¹ãƒ›ãƒ«ãƒ€ãƒ¼å®šç¾©"]
            CONS["constraints.yaml<br/>æ–‡å­—æ•°åˆ¶ç´„ãƒ»ãƒãƒªãƒ‡ãƒ¼ã‚·ãƒ§ãƒ³"]
        end

        subgraph Pipeline["pipeline/"]
            P1["1-selection.yaml<br/>è¨˜äº‹é¸åˆ¥"]
            P2["2-extraction.yaml<br/>æƒ…å ±æŠ½å‡º"]
            P3["3-title.yaml<br/>ã‚¿ã‚¤ãƒˆãƒ«ç”Ÿæˆ"]
            P4["4-content.yaml<br/>æœ¬æ–‡ç”Ÿæˆ"]
        end

        subgraph Sections["sections/"]
            S1["01-example.yaml"]
            S2["02-example.yaml"]
            S3["03-example.yaml"]
            S4["..."]
        end
    end

    META --> Shared
    META --> Pipeline
    META --> Sections

    style META fill:#ffecb3
    style Shared fill:#e1f5fe
    style Pipeline fill:#f3e5f5
    style Sections fill:#c8e6c9
```

#### ãƒãƒ«ãƒãƒ—ãƒ­ãƒã‚¤ãƒ€ãƒ¼åˆ‡ã‚Šæ›¿ãˆ

```mermaid
flowchart LR
    ENV["AI_PROVIDER<br/>ç’°å¢ƒå¤‰æ•°"]

    subgraph Factory["AI Factory"]
        direction TB
        CREATE["createAiProvider()"]
    end

    subgraph Providers["ãƒ—ãƒ­ãƒã‚¤ãƒ€ãƒ¼"]
        ANT["ğŸŸ£ Anthropic<br/>Claude"]
        GEM["ğŸ”µ Gemini<br/>Google"]
        OAI["ğŸŸ¢ OpenAI<br/>GPT"]
    end

    ENV --> CREATE
    CREATE --> ANT
    CREATE --> GEM
    CREATE --> OAI

    ANT -.->|"default"| CREATE

    style ANT fill:#d1c4e9
    style GEM fill:#bbdefb
    style OAI fill:#c8e6c9
```

---

### ãƒ¬ã‚¬ã‚·ãƒ¼ç‰ˆã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£ï¼ˆWordPress / é–‹ç™ºçµ‚äº†ï¼‰

> âš ï¸ **ã‚¢ãƒ¼ã‚«ã‚¤ãƒ–æƒ…å ±**: ä»¥ä¸‹ã¯ WordPress ãƒ™ãƒ¼ã‚¹ã®ãƒ¬ã‚¬ã‚·ãƒ¼ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£ã§ã™ã€‚
> 2025å¹´11æœˆ3æ—¥ã«é–‹ç™ºçµ‚äº†ã—ã€å®Œå…¨å‰Šé™¤ã•ã‚Œã¾ã—ãŸï¼ˆ96MB ã®ã‚³ãƒ¼ãƒ‰å‰Šæ¸›ï¼‰ã€‚

```mermaid
graph TB
    subgraph "ãƒ¦ãƒ¼ã‚¶ãƒ¼å±¤"
        U[ãƒ¦ãƒ¼ã‚¶ãƒ¼]
    end

    subgraph "CDNå±¤"
        CDN[CloudFlare CDN]
    end

    subgraph "ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰å±¤ (Vercel)"
        FE1[Next.js Frontend<br/>v16.1.1 / React 19]
        FE2[AI Writer App<br/>v16.1.1 / React 19<br/>Port 7777]
    end

    subgraph "ãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰å±¤ (Cloud Run)"
        WP[WordPress API<br/>PHP 8.4<br/>Port 8080]
    end

    subgraph "ãƒ‡ãƒ¼ã‚¿å±¤ (GCP)"
        DB[(Cloud SQL<br/>MySQL 8.0)]
        GCS[Cloud Storage<br/>ãƒ¡ãƒ‡ã‚£ã‚¢ãƒ•ã‚¡ã‚¤ãƒ«]
    end

    subgraph "AI & èªè¨¼"
        CLAUDE[Claude API]
        FB[Firebase Auth]
    end

    U --> CDN
    CDN --> FE1
    U --> FE2
    FE1 --> WP
    FE2 --> WP
    FE2 --> CLAUDE
    FE2 --> FB
    WP --> DB
    WP --> GCS

    style U fill:#e1f5fe
    style CDN fill:#b3e5fc
    style FE1 fill:#f3e5f5
    style FE2 fill:#f3e5f5
    style WP fill:#c8e6c9
    style CLAUDE fill:#fff9c4
    style DB fill:#ffe0b2
    style GCS fill:#ffe0b2
    style FB fill:#ffccbc
```

### ãƒ‡ãƒ¼ã‚¿ãƒ•ãƒ­ãƒ¼: AIè¨˜äº‹ç”Ÿæˆï¼ˆãƒ¬ã‚¬ã‚·ãƒ¼: Headless WordPressç‰ˆï¼‰

```mermaid
sequenceDiagram
    participant User as ãƒ¦ãƒ¼ã‚¶ãƒ¼
    participant AIWriter as AI Writer<br/>(Vercel)
    participant RSS as RSSãƒ‘ãƒ¼ã‚µãƒ¼
    participant Claude as Claude API
    participant WP as WordPress GraphQL<br/>(Cloud Run)
    participant GCS as Cloud Storage

    User->>AIWriter: è‡ªå‹•ç”Ÿæˆãƒˆãƒªã‚¬ãƒ¼
    AIWriter->>RSS: RSSãƒ•ã‚£ãƒ¼ãƒ‰å–å¾—
    RSS-->>AIWriter: è¨˜äº‹ã‚’è¿”ã™
    AIWriter->>AIWriter: è¨˜äº‹æ¤œè¨¼<br/>(ã‚­ãƒ¼ãƒ¯ãƒ¼ãƒ‰ã€æ—¥æœ¬èª)
    AIWriter->>Claude: è¨˜äº‹ç”Ÿæˆ<br/>(ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆãƒ™ãƒ¼ã‚¹)
    Claude-->>AIWriter: ç”Ÿæˆã‚³ãƒ³ãƒ†ãƒ³ãƒ„ã‚’è¿”ã™
    AIWriter->>WP: ãƒ¡ãƒ‡ã‚£ã‚¢ã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰
    WP->>GCS: ç”»åƒã‚’ä¿å­˜
    GCS-->>WP: URLã‚’è¿”ã™
    AIWriter->>WP: æŠ•ç¨¿ä½œæˆ<br/>(GraphQL Mutation)
    WP-->>AIWriter: æŠ•ç¨¿IDã‚’è¿”ã™
    AIWriter-->>User: æˆåŠŸ
```

> âš ï¸ **æ³¨æ„**: ä¸Šè¨˜ã¯ WordPress ç‰ˆï¼ˆãƒ¬ã‚¬ã‚·ãƒ¼ï¼‰ã®ãƒ•ãƒ­ãƒ¼ã§ã™ã€‚2025å¹´11æœˆ3æ—¥ã«é–‹ç™ºçµ‚äº†ã—ã¾ã—ãŸã€‚
> ç¾åœ¨ã® Revolution ã¯ **MDX ãƒ‘ã‚¤ãƒ—ãƒ©ã‚¤ãƒ³** ã®ã¿ã‚’ä½¿ç”¨ã—ã¦ã„ã¾ã™ã€‚

---

## ğŸ†• ã‚¢ãƒƒãƒ—ãƒ‡ãƒ¼ãƒˆæƒ…å ±

### Next.js 16.1.1 ã‚¢ãƒƒãƒ—ã‚°ãƒ¬ãƒ¼ãƒ‰ï¼ˆ2026-01-10ï¼‰

**PR #122**: ãƒ¢ãƒãƒ¬ãƒå…¨ä½“ã‚’ Next.js 16.1.1 / React 19 ã«ã‚¢ãƒƒãƒ—ã‚°ãƒ¬ãƒ¼ãƒ‰

#### ä¸»ãªå¤‰æ›´ç‚¹

| ã‚«ãƒ†ã‚´ãƒª | å†…å®¹ |
|---------|------|
| **Async Request APIs** | `params`, `searchParams`, `cookies()`, `headers()`, `draftMode()` ãŒ Promise ã«å¤‰æ›´ |
| **Turbopack ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆåŒ–** | `--turbo` ãƒ•ãƒ©ã‚°ä¸è¦ã€é–‹ç™ºã‚µãƒ¼ãƒãƒ¼èµ·å‹•ãŒé«˜é€ŸåŒ– |
| **ESLint 9 Flat Config** | `.eslintrc.json` â†’ `eslint.config.mjs` ã¸ç§»è¡Œ |
| **TypeScript å‹å®šç¾©ä¸€å…ƒç®¡ç†** | å…±é€šå‹å®šç¾©ã§ä¸€å…ƒç®¡ç† |
| **Pages Router å‰Šé™¤** | App Router ã®ã¿ã«å®Œå…¨ç§»è¡Œ |

#### æ¤œè¨¼çµæœ

| é …ç›® | çµæœ | å‚™è€ƒ |
|------|------|------|
| é–‹ç™ºã‚µãƒ¼ãƒãƒ¼èµ·å‹• | âœ… PASS | 741ms ã§èµ·å‹•æˆåŠŸ |
| å‹ãƒã‚§ãƒƒã‚¯ | âœ… PASS | ã‚¨ãƒ©ãƒ¼0ä»¶ |
| ãƒ“ãƒ«ãƒ‰ + æœ¬ç•ªãƒ¢ãƒ¼ãƒ‰ | âœ… PASS | 8.3ç§’ã§ãƒ“ãƒ«ãƒ‰å®Œäº† |
| ç”»åƒæœ€é©åŒ– | âœ… PASS | q=75 æ­£å¸¸å‹•ä½œ |
| ISR (120ç§’) | âœ… PASS | è¨­å®šå€¤æ­£å¸¸ |

**å‚ç…§**: [Next.js 16 Upgrade Guide](https://nextjs.org/docs/app/building-your-application/upgrading/version-16)

---

### WordPress ãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰å®Œå…¨å‰Šé™¤ï¼ˆ2026-01-03ï¼‰

**PR #117**: WordPress ãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰ã‚’å®Œå…¨å‰Šé™¤ã—ã€MDX ãƒ‘ã‚¤ãƒ—ãƒ©ã‚¤ãƒ³ã«ä¸€æœ¬åŒ–

#### ğŸ—‚ï¸ Legacy Headless CMS Architecture

- ğŸ¤– **AIã‚³ãƒ³ãƒ†ãƒ³ãƒ„ãƒ‘ã‚¤ãƒ—ãƒ©ã‚¤ãƒ³**: RSSåé›† â†’ Claude, ChatGPT, Gemini APIè¨˜äº‹ç”Ÿæˆ(Phase0.1), Grok â†’ LLM(Claude, ChatGPT, Gemini)è¨˜äº‹ç”Ÿæˆ(Phase1)
  - Phase 0.1 ä»¥é™ã¯ ã€ŒMDX å°‚ç”¨ã€ã¨ã™ã‚‹ã€‚
- âš¡ **ãƒ˜ãƒƒãƒ‰ãƒ¬ã‚¹CMS**: WordPress GraphQL API ã¨ Next.js SSG/ISR
  - ã€ŒHeadless WordPressã€ã¯ã€ git tag: `headless-wp-mvp-final-20251103` ã¾ã§ã€‚ãƒ¬ã‚¬ã‚·ãƒ¼ç‰ˆã¨ã—ã¦é–‹ç™ºä¸­æ­¢ã€‚
  - ã€ŒHeadless WordPress ç‰ˆã‚’å¾©æ—§ã—ãŸã„å ´åˆã¯ã€ä¸Šè¨˜ã‚¿ã‚°ã‚’å‚ç…§ã€
- â˜ï¸ **ã‚¯ãƒ©ã‚¦ãƒ‰ãƒã‚¤ãƒ†ã‚£ãƒ–**: Google Cloud Runä¸Šã®ã‚³ãƒ³ãƒ†ãƒŠåŒ–WordPress

#### å‰Šé™¤å†…å®¹

- `apps/backend/` ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªå…¨ä½“ï¼ˆ96MBï¼‰
- WordPress é–¢é€£ä¾å­˜ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸
- GraphQL Codegen è¨­å®š
- Docker Compose è¨­å®š

#### åŠ¹æœ

- **ãƒªãƒã‚¸ãƒˆãƒªã‚µã‚¤ã‚ºå‰Šæ¸›**: 96MB å‰Šæ¸›
- **ä¿å®ˆæ€§å‘ä¸Š**: å˜ä¸€ãƒ‘ã‚¤ãƒ—ãƒ©ã‚¤ãƒ³ï¼ˆMDX ã®ã¿ï¼‰ã«çµ±ä¸€
- **ãƒ‡ãƒ—ãƒ­ã‚¤ç°¡ç´ åŒ–**: Cloud Run ã¸ã®è‡ªå‹•ãƒ‡ãƒ—ãƒ­ã‚¤å®Ÿè£…

---

## ğŸ’» é–‹ç™º

### ãƒ«ãƒ¼ãƒˆãƒ¬ãƒ™ãƒ«ï¼ˆãƒ¢ãƒãƒ¬ãƒï¼‰

```bash
# é–‹ç™ºã‚µãƒ¼ãƒãƒ¼èµ·å‹•ï¼ˆå…¨ãƒ¯ãƒ¼ã‚¯ã‚¹ãƒšãƒ¼ã‚¹ï¼‰
pnpm dev

# ç‰¹å®šã®ãƒ¯ãƒ¼ã‚¯ã‚¹ãƒšãƒ¼ã‚¹ã®ã¿èµ·å‹•
pnpm dev:frontend     # ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰ã®ã¿
pnpm dev:ai-writer    # AI Writerã®ã¿

# ãƒ“ãƒ«ãƒ‰
pnpm build            # å…¨ãƒ¯ãƒ¼ã‚¯ã‚¹ãƒšãƒ¼ã‚¹
pnpm build:frontend   # ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰ã®ã¿

# ãƒ†ã‚¹ãƒˆ & å“è³ªãƒã‚§ãƒƒã‚¯
pnpm test             # å…¨ãƒ†ã‚¹ãƒˆã‚’å®Ÿè¡Œ
pnpm lint             # å…¨ãƒ¯ãƒ¼ã‚¯ã‚¹ãƒšãƒ¼ã‚¹ã‚’Lint
pnpm type-check       # TypeScriptæ¤œè¨¼

# ã‚¯ãƒªãƒ¼ãƒ³ã‚¢ãƒƒãƒ—
pnpm clean            # ãƒ“ãƒ«ãƒ‰æˆæœç‰©ã‚’å‰Šé™¤
pnpm fresh            # ã‚¯ãƒªãƒ¼ãƒ³ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«
```

### AI Writer ã‚¢ãƒ—ãƒª

```bash
cd apps/ai-writer

# é–‹ç™º
pnpm dev              # ãƒãƒ¼ãƒˆ7777ã§èµ·å‹•
pnpm restart          # å¼·åˆ¶çµ‚äº†&å†èµ·å‹•

# ãƒ†ã‚¹ãƒˆ
pnpm test             # Jestãƒ†ã‚¹ãƒˆã‚’å®Ÿè¡Œ
pnpm test:watch       # ã‚¦ã‚©ãƒƒãƒãƒ¢ãƒ¼ãƒ‰
pnpm test:coverage    # ã‚«ãƒãƒ¬ãƒƒã‚¸ãƒ¬ãƒãƒ¼ãƒˆ

# Firebaseç®¡ç†è€…
pnpm admin:setup      # ç®¡ç†è€…ãƒ¦ãƒ¼ã‚¶ãƒ¼ã‚’ã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—
pnpm admin:list       # ç®¡ç†è€…ã‚’ãƒªã‚¹ãƒˆè¡¨ç¤º
```

### Frontend ã‚¢ãƒ—ãƒª

```bash
cd apps/frontend

# é–‹ç™º
pnpm dev              # ãƒãƒ¼ãƒˆ4444ã§èµ·å‹•ï¼ˆTurbopack ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆï¼‰

# ãƒ“ãƒ«ãƒ‰ & æ¤œè¨¼
pnpm build            # æœ¬ç•ªãƒ“ãƒ«ãƒ‰
pnpm start            # æœ¬ç•ªãƒ¢ãƒ¼ãƒ‰ã§èµ·å‹•
pnpm type-check       # TypeScriptå‹ãƒã‚§ãƒƒã‚¯
pnpm lint             # ESLint 9 Flat Config
pnpm validate-env     # ç’°å¢ƒå¤‰æ•°æ¤œè¨¼
```

#### TypeScript å‹å®šç¾©ã®ä¸€å…ƒç®¡ç†

Next.js 16 ã® Async Request APIs å¯¾å¿œã®ãŸã‚ã€ãƒšãƒ¼ã‚¸ Props å‹ã‚’ä¸€å…ƒç®¡ç†ã—ã¦ã„ã¾ã™ã€‚

**ä¸­å¤®é›†ç´„ãƒ•ã‚¡ã‚¤ãƒ«**: `apps/frontend/types/page-props.ts`

**å®šç¾©ã•ã‚Œã¦ã„ã‚‹å‹**:

| å‹å | ç”¨é€” | ä½¿ç”¨ãƒ«ãƒ¼ãƒˆ |
|------|------|-----------|
| `PageProps<TParams>` | æ±ç”¨ãƒšãƒ¼ã‚¸ Props å‹ | ã™ã¹ã¦ã®å‹•çš„ãƒ«ãƒ¼ãƒˆ |
| `ArticlePageParams` | ãƒ¬ã‚¬ã‚·ãƒ¼ãƒ«ãƒ¼ãƒˆç”¨ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ | `/articles/[slug]` |
| `ArticlePageParamsNew` | æ–°ãƒ«ãƒ¼ãƒˆç”¨ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ | `/[event_type]/[work_slug]/[slug]` |
| `ArticlePageProps` | ãƒ¬ã‚¬ã‚·ãƒ¼ãƒ«ãƒ¼ãƒˆç”¨ Props | `/articles/[slug]/page.tsx`, `opengraph-image.tsx` |
| `ArticlePagePropsNew` | æ–°ãƒ«ãƒ¼ãƒˆç”¨ Props | `/[event_type]/[work_slug]/[slug]/page.tsx`, `opengraph-image.tsx` |

**ä½¿ç”¨ä¾‹**:

```typescript
import type { ArticlePageProps } from '@/types/page-props';

export default async function ArticlePage({ params }: ArticlePageProps) {
  const { slug } = await params; // Next.js 16: params ã¯ Promise
  // ...
}
```

**ãƒ¡ãƒªãƒƒãƒˆ**:
- å°†æ¥ã® Next.js ã‚¢ãƒƒãƒ—ã‚°ãƒ¬ãƒ¼ãƒ‰æ™‚ã®å‹å¤‰æ›´ã«ä¸€å…ƒå¯¾å¿œ
- å‹å®šç¾©ã®ä¸€è²«æ€§ãŒä¿ãŸã‚Œã‚‹
- é‡è¤‡ã‚³ãƒ¼ãƒ‰ã®å‰Šæ¸›

**å‚ç…§**: [Next.js 16 Upgrade Guide - Async Request APIs](https://nextjs.org/docs/app/building-your-application/upgrading/version-16#async-request-apis)

---

## ğŸš¢ ãƒ‡ãƒ—ãƒ­ã‚¤ (TODO)

### AI Writerï¼ˆCloud Run è‡ªå‹•ãƒ‡ãƒ—ãƒ­ã‚¤ï¼‰

**PR #117** ã§å®Ÿè£…ã•ã‚ŒãŸ GitHub Actions ã«ã‚ˆã‚‹è‡ªå‹•ãƒ‡ãƒ—ãƒ­ã‚¤ãƒ•ãƒ­ãƒ¼

#### ãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼æ¦‚è¦

```mermaid
flowchart LR
    PUSH[main ãƒ–ãƒ©ãƒ³ãƒã¸ãƒ—ãƒƒã‚·ãƒ¥]
    BUILD[Docker ã‚¤ãƒ¡ãƒ¼ã‚¸ãƒ“ãƒ«ãƒ‰]
    PUSH_AR[Artifact Registry ã¸ãƒ—ãƒƒã‚·ãƒ¥]
    DEPLOY[Cloud Run ã¸ãƒ‡ãƒ—ãƒ­ã‚¤]
    HEALTH[ãƒ˜ãƒ«ã‚¹ãƒã‚§ãƒƒã‚¯]

    PUSH --> BUILD
    BUILD --> PUSH_AR
    PUSH_AR --> DEPLOY
    DEPLOY --> HEALTH
```

**ãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼ãƒ•ã‚¡ã‚¤ãƒ«**: `.github/workflows/deploy-ai-writer.yml`

#### æŠ€è¡“ã‚¹ã‚¿ãƒƒã‚¯

| é …ç›® | èª¬æ˜ |
|------|------|
| **ã‚³ãƒ³ãƒ†ãƒŠãƒ¬ã‚¸ã‚¹ãƒˆãƒª** | Google Cloud Artifact Registry |
| **ãƒ‡ãƒ—ãƒ­ã‚¤å…ˆ** | Google Cloud Runï¼ˆã‚µãƒ¼ãƒãƒ¼ãƒ¬ã‚¹ã‚³ãƒ³ãƒ†ãƒŠï¼‰ |
| **èªè¨¼æ–¹å¼** | Workload Identity Federationï¼ˆã‚­ãƒ¼ãƒ¬ã‚¹èªè¨¼ï¼‰ |
| **ãƒ˜ãƒ«ã‚¹ãƒã‚§ãƒƒã‚¯** | `/api/health` ã‚¨ãƒ³ãƒ‰ãƒã‚¤ãƒ³ãƒˆã§è‡ªå‹•æ¤œè¨¼ |

#### Workload Identity Federation (WIF)

GitHub Actions ã¯ WIF ã‚’ä½¿ç”¨ã—ã¦ã‚­ãƒ¼ãƒ¬ã‚¹èªè¨¼ã‚’å®Ÿç¾ã—ã¦ã„ã¾ã™ã€‚

**å¿…è¦ãª GitHub Secrets**ï¼ˆåå‰ã®ã¿è¨˜è¼‰ã€å€¤ã¯éå…¬é–‹ï¼‰:

| Secret å | èª¬æ˜ |
|-----------|------|
| `GCP_PROJECT_ID` | GCP ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆ ID |
| `GCP_REGION` | ãƒ‡ãƒ—ãƒ­ã‚¤ãƒªãƒ¼ã‚¸ãƒ§ãƒ³ |
| `GAR_REPOSITORY` | Artifact Registry ãƒªãƒã‚¸ãƒˆãƒªå |
| `CLOUD_RUN_SERVICE_NAME` | Cloud Run ã‚µãƒ¼ãƒ“ã‚¹å |
| `WIF_PROVIDER` | Workload Identity Federation ãƒ—ãƒ­ãƒã‚¤ãƒ€ãƒ¼ |
| `WIF_SERVICE_ACCOUNT` | WIF ã‚µãƒ¼ãƒ“ã‚¹ã‚¢ã‚«ã‚¦ãƒ³ãƒˆ |

#### ãƒ˜ãƒ«ã‚¹ãƒã‚§ãƒƒã‚¯ä»•æ§˜

ãƒ‡ãƒ—ãƒ­ã‚¤å¾Œã€ä»¥ä¸‹ã®é …ç›®ã‚’è‡ªå‹•æ¤œè¨¼:

- Firebase æ¥ç¶šç¢ºèª
- Secrets Manager ã‚¢ã‚¯ã‚»ã‚¹ç¢ºèª
- AI ãƒ—ãƒ­ãƒã‚¤ãƒ€ãƒ¼ï¼ˆClaude/Gemini/OpenAIï¼‰æ¥ç¶šç¢ºèª

**å‚ç…§**: [Google Cloud Workload Identity Federation](https://cloud.google.com/iam/docs/workload-identity-federation)

---

### ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰ï¼ˆVercelï¼‰

```bash
cd apps/frontend
vercel --prod

# ã¾ãŸã¯ãƒ«ãƒ¼ãƒˆã‹ã‚‰
pnpm deploy:frontend
```

**ç’°å¢ƒå¤‰æ•°**: Vercel Dashboard ã§è¨­å®š

---

### ã‚³ãƒŸãƒƒãƒˆè¦ç´„

```bash
âœ¨ feat:      æ–°æ©Ÿèƒ½è¿½åŠ 
ğŸ› fix:       ãƒã‚°ä¿®æ­£
ğŸ“ docs:      ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ
ğŸ”§ config:    è¨­å®šå¤‰æ›´
â™»ï¸  refactor:  ã‚³ãƒ¼ãƒ‰ãƒªãƒ•ã‚¡ã‚¯ã‚¿ãƒªãƒ³ã‚°
ğŸ§ª test:      ãƒ†ã‚¹ãƒˆè¿½åŠ 
ğŸ¨ style:     ã‚³ãƒ¼ãƒ‰ãƒ•ã‚©ãƒ¼ãƒãƒƒãƒˆ
âš¡ï¸ perf:      ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹æ”¹å–„
```

---

## ğŸ™ è¬è¾

ä»¥ä¸‹ã‚’ä½¿ç”¨ã—ã¦æ§‹ç¯‰:

- [Next.js](https://nextjs.org/) - Reactãƒ•ãƒ¬ãƒ¼ãƒ ãƒ¯ãƒ¼ã‚¯
- [WordPress](https://wordpress.org/) - CMS (Legacy - 2025å¹´11æœˆã¾ã§ä½¿ç”¨)
- [WPGraphQL](https://www.wpgraphql.com/) - WordPressç”¨GraphQL (Legacy)
- [Anthropic Claude](https://www.anthropic.com/) - AI API
- [Firebase](https://firebase.google.com/) - èªè¨¼
- [Google Cloud](https://cloud.google.com/) - ã‚¤ãƒ³ãƒ•ãƒ©ã‚¹ãƒˆãƒ©ã‚¯ãƒãƒ£
- [Vercel](https://vercel.com/) - ãƒ‡ãƒ—ãƒ­ã‚¤ãƒ¡ãƒ³ãƒˆãƒ—ãƒ©ãƒƒãƒˆãƒ•ã‚©ãƒ¼ãƒ 

---

**Happy Coding! ğŸš€**
